<div id="headers">
	<div class="container d-flex align-items-center">
		<div id="div-logo">
			<img id="headers-logo"
				(click)="backToHome()"
				src="../../../../assets/image/logo/nest-logo.svg"
				height="74"
				width="81">
		</div>

		<wsh wide="30px"></wsh>
		<div class="flex-grow-1">
			<div class="d-flex flex-grow-1 align-items-center">
				<div class="d-flex w-100 align-items-center">
					<div id="company-name">{{datacompany?.trade_name}}</div>
					<div id="separator"></div>
					<div id="user-name"
						class="label-1">{{datauser?.fullname}}</div>
				</div>
				<div class="d-flex align-items-center">
					<label-with-notif label="approval"
						[badge]="nApproval"
						(click)="goToApproval()"></label-with-notif>
					<wsh wide="20px"></wsh>
					<label-with-notif label="Transaksi"
						(click)="goToTransaction()"
						[badge]="nTransaction"></label-with-notif>
					<wsh wide="20px"></wsh>
					<logo-with-notif [badge]="nCart"
						(click)="goToCart()"></logo-with-notif>
				</div>
			</div>

			<div class="separator-2"></div>
			<div class="d-flex w-100 align-items-center">
				<header-category-button></header-category-button>

				<div id="headers-search"
					class="d-flex flex-grow-1 justify-content-center">
					<form [formGroup]="myControl">
						<input #pencarian
							type="text"
							class="textbox-header-search"
							aria-label="Number"
							matInput
							[formControl]="myControl"
							[matAutocomplete]="auto"
							placeholder="Search"
							(change)=getKey(pencarian.value)>
						<!-- autoActiveFirstOption -->

						<mat-autocomplete id="mat-autocomplete"
							#auto="matAutocomplete"
							style="z-index: 9999;"
							(optionSelected)='goesToDetailProduct($event.option.value)'>
							<mat-option *ngFor="let option of filteredOptions | async"
								[value]="option"
								(selectionChange)="goesToDetailProduct($event.option.value)">
								{{option}}
							</mat-option>
						</mat-autocomplete>

						<button type="submit"
							id="searchbutton">
						</button>

					</form>

				</div>


				<div id="div-saldo"
					class="d-flex">
					<img src="../../../../assets/image/icons/wallet.svg">
					<div class="d-flex credit">
						{{datacompany?.credit_rp | rupiah}}
					</div>
				</div>

			</div>
		</div>
		<wsh wide="30px"></wsh>
		<div id="headers-user-menu"
			(click)="goToAccount()"
			(contextmenu)="onRightClick($event, {content: 'Profile', redir: 'account'})">
			<img id="headers-user-photo"
				src="{{datauser?.profile_picture_url}}">
		</div>

		<!-- an hidden div is created to set the position of appearance of the menu-->
		<div style="visibility: hidden; position: fixed;"
			[style.left]="menuTopLeftPosition.x"
			[style.top]="menuTopLeftPosition.y"
			[matMenuTriggerFor]="rightMenu"></div>

		<!-- standard material menu -->
		<mat-menu #rightMenu="matMenu">
			<ng-template matMenuContent
				let-item="item">
				<button mat-menu-item
					(click)="openNewTab(item.redir)">Buka {{item.content}} di Tab Baru</button>
				<button mat-menu-item>Cancel</button>
			</ng-template>
		</mat-menu>

	</div>
</div>
